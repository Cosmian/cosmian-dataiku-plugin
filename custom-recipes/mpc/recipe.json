// This file is the descriptor for the Custom code recipe mpc
{
  "meta": {
    "label": "Multi Party Computation",
    "description": "Perform a Multi Party Computation (MPC) between 2 or more data providers",
    "icon": "icon-cogs",
    "iconColor": "purple"
  },
  "kind": "PYTHON",
  "selectableFromDataset": "datasets",
  "inputRoles": [
    {
      "name": "datasets",
      "label": "Datasets",
      "description": "Dataset to join with",
      "arity": "NARY",
      "required": true,
      "acceptsDataset": true
    }
  ],
  "outputRoles": [
    {
      "name": "output",
      "label": "Results",
      "description": "Results of the MPC program",
      "arity": "UNARY",
      "required": true,
      "acceptsDataset": true
    }
  ],
  "params": [
    {
      "name": "computation",
      "label": "Multi Party Computation to run",
      "type": "SELECT",
      "selectChoices": [
        {
          "value": "linear_regression_stack",
          "label": "Linear Regression (stack)"
        },
        {
          "value": "linear_regression_join",
          "label": "Linear Regression (join)"
        },
        {
          "value": "ip_identification",
          "label": "Suspect IPs Identification"
        }
      ],
      "mandatory": true
    },
    {
      "name": "column_1",
      "label": "First column of the regression",
      "type": "COLUMN",
      "columnRole": "datasets",
      "visibilityCondition" : "model.computation == 'linear_regression_stack'"
    },
    {
      "name": "column_2",
      "label": "Second column of the regression",
      "type": "COLUMN",
      "columnRole": "datasets",
      "visibilityCondition" : "model.computation == 'linear_regression_stack'"
    },
     {
      "name": "column_3",
      "label": "First column of the regression",
      "type": "COLUMN",
      "columnRole": "datasets",
      "visibilityCondition" : "model.computation == 'linear_regression_join'"
    },
    {
      "name": "column_4",
      "label": "Second column of the regression",
      "type": "COLUMN",
      "columnRole": "datasets",
      "visibilityCondition" : "model.computation == 'linear_regression_join'"
    }
  ],
  "resourceKeys": []
}
